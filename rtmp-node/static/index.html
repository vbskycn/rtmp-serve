<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>流媒体转推管理系统</title>
    <link rel="stylesheet" href="/css/main.css">
</head>
<body>
    <div class="header">
        <h1>流媒体转推管理系统</h1>
        <div class="system-info">
            <div>CPU: <span id="cpuUsage">0%</span></div>
            <div>内存: <span id="memoryUsage">0%</span></div>
            <div>网络: <span id="networkSpeed">0 MB/s</span></div>
        </div>
        <div class="user-info">
            <span id="userRole">管理员</span>
            <button id="logoutBtn">退出</button>
        </div>
        <button id="helpBtn">使用帮助</button>
    </div>

    <div class="main-content">
        <div class="control-panel">
            <section class="add-stream">
                <h3>添加流</h3>
                <button id="addStreamBtn">添加新流</button>
                <button id="batchAddBtn">批量添加</button>
            </section>

            <section class="quick-filter">
                <h3>快速筛选</h3>
                <button class="filter-btn active" data-status="all">全部</button>
                <button class="filter-btn" data-status="running">运行中</button>
                <button class="filter-btn" data-status="error">异常</button>
                <button class="filter-btn" data-status="stopped">已停止</button>
            </section>

            <section class="search">
                <h3>搜索</h3>
                <input type="text" id="searchInput" placeholder="搜索流名称或地址...">
            </section>

            <section class="config-management">
                <h3>配置管理</h3>
                <button id="transcodeConfigBtn">转码配置</button>
                <button id="exportConfigBtn">导出配置</button>
            </section>

            <section class="batch-operations">
                <h3>批量操作</h3>
                <button id="batchStartBtn">批量启动</button>
                <button id="batchStopBtn">批量停止</button>
                <button id="batchDeleteBtn">批量删除</button>
            </section>
        </div>

        <div class="status-summary">
            <div class="status-item">
                <div class="count" id="runningCount">0</div>
                <div class="label">运行中</div>
            </div>
            <div class="status-item">
                <div class="count" id="errorCount">0</div>
                <div class="label">异常</div>
            </div>
            <div class="status-item">
                <div class="count" id="stoppedCount">0</div>
                <div class="label">已停止</div>
            </div>
        </div>

        <div class="stream-list">
            <div class="list-header">
                <h2>流列表</h2>
                <div class="list-controls">
                    <select id="pageSize">
                        <option value="10">10条/页</option>
                        <option value="20">20条/页</option>
                        <option value="50">50条/页</option>
                    </select>
                    <button id="refreshBtn">刷新</button>
                </div>
            </div>
            <table id="streamTable">
                <thead>
                    <tr>
                        <th><input type="checkbox" id="selectAll"></th>
                        <th>名称</th>
                        <th>源地址</th>
                        <th>推流地址</th>
                        <th>播放地址</th>
                        <th>转码配置</th>
                        <th>状态</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody id="streamTableBody">
                    <!-- 数据将通过JavaScript动态填充 -->
                </tbody>
            </table>
            <div class="pagination">
                <span>第 <span id="currentPage">1</span> 页</span>
            </div>
        </div>
    </div>

    <!-- 添加流的模态框 -->
    <div id="addStreamModal" class="modal">
        <div class="modal-content">
            <h2>添加新流</h2>
            <form id="addStreamForm">
                <div class="form-group">
                    <label>流名称:</label>
                    <input type="text" name="name" required>
                </div>
                <div class="form-group">
                    <label>源地址:</label>
                    <input type="text" name="sourceUrl" required>
                </div>
                <div class="form-group">
                    <label>转码配置:</label>
                    <select name="transcodeConfig">
                        <option value="">无</option>
                        <!-- 其他选项将通过JavaScript动态填充 -->
                    </select>
                </div>
                <div class="form-buttons">
                    <button type="submit">确定</button>
                    <button type="button" class="close-modal">取消</button>
                </div>
            </form>
        </div>
    </div>

    <script src="/js/utils.js"></script>
    <script src="/js/config.js"></script>
    <script src="/js/charts.js"></script>
    <script src="/js/main.js"></script>
</body>
</html> 